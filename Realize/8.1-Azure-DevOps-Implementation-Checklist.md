---
title: "Azure DevOps Integration - Implementation Checklist"
date: "2025-09-28"
type: "implementation-checklist"
phase: "realize"
version: "8.1"
---

# Azure DevOps Integration - Implementation Checklist

**Quick Reference:** Step-by-step checklist for implementing ADO ↔ GitHub integration

---

## Pre-Implementation Checklist

### ✅ Prerequisites

- [ ] **Azure DevOps Project exists**: `HX-Data-Ingestion-Project`
- [ ] **GitHub Repository exists**: `hanax-ai/HX-Data-Ingestion-Project`
- [ ] **Azure DevOps PAT created** with scopes:
  - [ ] Work Items: Read, Write
  - [ ] Project & Team: Read
  - [ ] Build: Read, Execute
  - [ ] Service Connections: Read, Write
- [ ] **GitHub PAT created** with scopes:
  - [ ] `repo` (full repository access)
  - [ ] `workflow` (GitHub Actions)
  - [ ] `admin:repo_hook` (webhooks)
- [ ] **Tools installed:**
  - [ ] Azure CLI (`az --version`)
  - [ ] GitHub CLI (`gh --version`)
  - [ ] jq (`jq --version`)
  - [ ] Git (`git --version`)

---

## Implementation Steps

### Step 1: Environment Setup

- [ ] Set configuration variables
  ```powershell
  $env:AZDO_ORG = "hana-x"
  $env:AZDO_PROJECT = "HX-Data-Ingestion-Project"
  $env:GH_OWNER = "hanax-ai"
  $env:GH_REPO = "HX-Data-Ingestion-Project"
  ```

- [ ] Set secrets (DO NOT COMMIT)
  ```powershell
  $env:AZDO_PAT = "<your-azure-devops-pat>"
  $env:GITHUB_TOKEN = "<your-github-token>"
  ```

- [ ] Verify authentication
  ```powershell
  az devops project show --project "HX-Data-Ingestion-Project"
  gh repo view hanax-ai/HX-Data-Ingestion-Project
  ```

### Step 2: Run Integration Script

- [ ] Navigate to project root
  ```powershell
  cd C:\Projects\HX-Data-Ingestion-Project
  ```

- [ ] Dry run (validation only)
  ```powershell
  .\scripts\integration\run-integration.ps1 -DryRun
  ```

- [ ] Full execution
  ```powershell
  .\scripts\integration\run-integration.ps1
  ```

- [ ] Review output for errors
- [ ] Note seed work item ID (AB#ID)

### Step 3: Create GitHub Workflows

- [ ] Verify workflows created in `.github/workflows/`:
  - [ ] `issue-to-ado.yml`
  - [ ] `pr-link-and-transition.yml`
  - [ ] `conventional-title.yml`
  - [ ] `nightly-sync.yml`

- [ ] Commit workflows to repository
  ```powershell
  git add .github/workflows/*.yml
  git commit -m "ci(dip): add ADO↔GH integration workflows"
  git push
  ```

### Step 4: Set Up GitHub Templates

- [ ] Verify templates created:
  - [ ] `.github/pull_request_template.md`
  - [ ] `.github/ISSUE_TEMPLATE.md`

- [ ] Commit templates
  ```powershell
  git add .github/*.md
  git commit -m "chore(templates): add PR/Issue templates"
  git push
  ```

### Step 5: Configure Branch Protection

- [ ] Wait for first Azure Pipeline run to complete
- [ ] Note exact status check name from PR
- [ ] Update CHECK_NAME if needed
- [ ] Enable branch protection:
  ```powershell
  # Verify status check name first!
  gh api -X PUT "/repos/hanax-ai/HX-Data-Ingestion-Project/branches/main/protection" `
    -f required_status_checks.strict=true `
    -f required_status_checks.contexts[]="Azure Pipelines" `
    -f enforce_admins=true `
    -f required_pull_request_reviews.required_approving_review_count=1
  ```

### Step 6: Create Azure DevOps Queries

- [ ] Create shared queries:
  - [ ] "Active Work Items (Last 7 Days)"
  - [ ] "GitHub-Linked Work Items"
  - [ ] "Ready for Review"

- [ ] Verify queries accessible in Azure DevOps

### Step 7: Generate Audit Report

- [ ] Review audit report in `out/integration-audit-*.md`
- [ ] Verify all IDs saved:
  - [ ] `out/seed-wi-id.txt`
  - [ ] `out/service-connection-id.txt`
  - [ ] `out/pipeline-id.txt`
- [ ] Save evidence files for documentation

---

## Post-Implementation Validation

### Functional Testing

- [ ] **Test 1: GitHub Issue → ADO Work Item**
  1. Create GitHub issue: "Test Integration"
  2. Wait 1-2 minutes
  3. Check Azure DevOps Boards
  4. Verify work item auto-created
  5. Verify title: "GH Issue: Test Integration"

- [ ] **Test 2: PR Linking**
  1. Create feature branch
  2. Make small change
  3. Create PR with title: `test(integration): AB#<id> validate linking`
  4. Check work item in Azure DevOps
  5. Verify PR linked under "Links" tab

- [ ] **Test 3: PR Merge → State Transition**
  1. Approve and merge PR from Test 2
  2. Wait 1-2 minutes
  3. Check work item state
  4. Verify transitioned to "Done"

- [ ] **Test 4: Conventional Commits Validation**
  1. Create PR with invalid title: "bad title"
  2. Verify workflow fails
  3. Update title: `fix(test): valid title`
  4. Verify workflow passes

- [ ] **Test 5: Nightly Sync**
  1. Manually trigger nightly-sync workflow
  2. Verify completes successfully
  3. Check work items transitioned

### Pipeline Validation

- [ ] **Azure Pipeline Running**
  1. Navigate to Azure DevOps Pipelines
  2. Verify `hx-dip-ci` pipeline exists
  3. Check latest run status
  4. Verify run completed successfully

- [ ] **GitHub Actions Running**
  1. Navigate to GitHub Actions tab
  2. Verify all 4 workflows present
  3. Check workflow run history
  4. Verify no failures

### Security Validation

- [ ] **Secrets Secured**
  1. Verify AZDO_PAT not in code
  2. Verify GITHUB_TOKEN not in code
  3. Check no PATs in git history
  4. Verify secrets only in GitHub Secrets

- [ ] **Branch Protection Active**
  1. Try to push directly to main
  2. Verify push blocked
  3. Create PR instead
  4. Verify status check required

---

## Rollback Procedure

If integration needs to be removed:

### 1. Remove Branch Protection
```powershell
gh api -X DELETE "/repos/hanax-ai/HX-Data-Ingestion-Project/branches/main/protection"
```

### 2. Remove Workflows
```powershell
git rm .github/workflows/issue-to-ado.yml
git rm .github/workflows/pr-link-and-transition.yml
git rm .github/workflows/conventional-title.yml
git rm .github/workflows/nightly-sync.yml
git commit -m "revert(ci): remove ADO↔GH integration"
git push
```

### 3. Remove Service Connection (Manual)
1. Navigate to Azure DevOps
2. Project Settings → Service connections
3. Select "GitHub-Connection-HX-DIP"
4. Delete

### 4. Delete Pipeline (Manual)
1. Navigate to Azure DevOps Pipelines
2. Select "hx-dip-ci"
3. Delete pipeline

---

## Success Criteria

### Integration Complete When:
- ✅ All scripts executed without errors
- ✅ Audit report generated in `out/`
- ✅ Seed work item created (AB#ID)
- ✅ Service connection active
- ✅ Pipeline runs successfully
- ✅ All 4 workflows committed
- ✅ Templates committed
- ✅ Branch protection enabled
- ✅ All functional tests passed

---

## Support & Documentation

**Primary Documentation:**
- Integration Guide: `Realize/8.0-Azure-DevOps-Integration-Guide.md`
- Implementation Plan: `Realize/2.0-Citadel_Implemenation-Plan.md`
- Task Files: `Realize/5.0-Tasks/`

**Evidence & Logs:**
- All logs: `out/*.log`
- Audit report: `out/integration-audit-*.md`
- Resource IDs: `out/*-id.txt`

**External Resources:**
- [Azure DevOps CLI Reference](https://learn.microsoft.com/en-us/cli/azure/devops)
- [GitHub CLI Reference](https://cli.github.com/manual/)
- [Azure Pipelines YAML](https://learn.microsoft.com/en-us/azure/devops/pipelines/yaml-schema)

---

**Version:** 8.1  
**Status:** Ready for Implementation  
**Last Updated:** 2025-09-28


